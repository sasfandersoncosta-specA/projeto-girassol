<div class="inbox-container whatsapp-layout">

    <aside class="lista-conversas">
        
        <header class="chat-header" id="left-column-header">
            <label for="admin-avatar-upload" class="avatar-upload-label" title="Clique para alterar a foto">
                <img src="placeholder.jpg" alt="Admin" class="avatar" id="admin-avatar">
            </label>
            <input type="file" id="admin-avatar-upload" accept="image/*" hidden>
            <div class="chat-header-info">
                <h4 id="admin-header-nome">Admin</h4>
            </div>
            <div class="header-icones">
                <button class="icon-btn" id="new-broadcast-btn" title="Nova Mensagem em Massa">
                    <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 12v-2h-2v2h2zm-10.4-4.2-1.4-1.4-4.2 4.2 1.4 1.4 4.2-4.2zm-1.4 5.6 1.4-1.4-4.2-4.2-1.4 1.4 4.2 4.2zM14 2H4c-1.1 0-2 .9-2 2v10h2V4h10V2zm6 4H8c-1.1 0-2 .9-2 2v10h2V8h10V6z"></path></svg>
                </button>
            </div>
        </header>

        <div class="busca-container">
            <input type="text" class="campo-busca" id="search-conversations" placeholder="Buscar ou começar uma nova conversa...">
        </div>

        <nav class="inbox-nav-list">
            <button class="inbox-nav-item active" data-view="inbox">Caixa de Entrada</button>
            <button class="inbox-nav-item" data-view="sent">Enviadas</button>
        </nav>

        <div class="conversas-wrapper" id="conversations-list-wrapper">
            </div>

        <footer class="pagination-footer" id="pagination-container"></footer>
    </aside>

    <section id="conversation-view" class="visualizacao-conversa">
        <div class="placeholder-view">
            <img src="../assets/images/chat-placeholder.png" alt="Girassol Chat">
            <h3>Mantenha seu contato</h3>
            <p>Selecione uma conversa para começar a trocar mensagens.</p>
        </div>
        </section>
</div>


<template id="convo-preview-template">
    <div class="conversa-preview" role="button">
        <img src="placeholder.jpg" alt="Avatar" class="avatar preview-avatar">
        <div class="preview-info">
            <div class="preview-header">
                <span class="nome-preview">Nome do Contato</span>
                <span class="data-preview">Ontem</span>
            </div>
            <div class="preview-mensagem">
                <p class="mensagem-preview">Aqui vai a última mensagem...</p>
                <span class="unread-badge">0</span>
            </div>
        </div>
        <button class="icon-btn delete-convo-btn" title="Excluir conversa">
            <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></svg>
        </button>
    </div>
</template>

<template id="convo-view-template">
    <header class="chat-header" id="right-column-header">
        <button class="icon-btn back-to-list-btn" title="Voltar para a lista">
            <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"></path></svg>
        </button>
        <img src="placeholder.jpg" alt="Avatar" class="avatar" id="chat-header-avatar">
        <div class="chat-header-info">
            <h4 id="chat-header-nome">Nome do Contato</h4>
            </div>
        <div class="header-icones">
            <button class="icon-btn" title="Anexar (Em breve)">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v11.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"></path></svg>
            </button>
        </div>
    </header>

    <div class="mensagens-thread" id="mensagens-thread-container">
        </div>

    <footer class="area-resposta" id="reply-form-container">
        <form id="reply-form">
            <button class="icon-btn" type="button" title="Emojis (Em breve)">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-6c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4 0c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-2 4c-1.48 0-2.75-.81-3.45-2H15.45c-.7 1.19-1.97 2-3.45 2z"></path></svg>
            </button>
            <textarea id="resposta-mensagem" name="resposta" placeholder="Digite sua mensagem..."></textarea>
            <button type="submit" class="icon-btn btn-enviar" title="Enviar Mensagem">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
            </button>
        </form>
    </footer>
</template>

<template id="message-bubble-template">
    <div class="mensagem">
        <p>Conteúdo da mensagem...</p>
        <span class="mensagem-timestamp">14:30</span>
    </div>
</template>

<div id="confirmation-modal" class="modal hidden">
    <div class="modal-content">
        <button class="modal-close-btn">&times;</button>
        <h3 id="modal-title" class="modal-title">Confirmar Ação</h3>
        <div id="modal-body" class="modal-body">
            <p>Você tem certeza?</p>
        </div>
        <div class="modal-footer">
            <button id="modal-cancel-btn" class="btn btn-secundario modal-cancel-btn">Cancelar</button>
            <button id="modal-confirm-btn" class="btn btn-perigo modal-confirm-btn">Confirmar</button>
        </div>
    </div>
</div>

<div id="broadcast-modal" class="modal hidden">
    <div class="modal-content modal-lg">
        <button class="modal-close-btn">&times;</button>
        <h3 class="modal-title">Nova Mensagem em Massa</h3>
        <form id="broadcast-form">
            <div class="form-group">
                <label for="broadcast-target">Enviar para:</label>
                <select id="broadcast-target" name="target" class="filtro-select">
                    <option value="psychologists">Todos os Psicólogos</option>
                    <option value="patients">Todos os Pacientes</option>
                </select>
            </div>
            <div class="form-group">
                <label for="broadcast-content">Mensagem:</label>
                <textarea id="broadcast-content" name="content" rows="10" placeholder="Digite a mensagem que será enviada para o grupo selecionado..."></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secundario modal-cancel-btn">Cancelar</button>
                <button type="submit" class="btn btn-primario">Enviar Mensagem</button>
            </div>
        </form>
    </div>
</div>